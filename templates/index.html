
{% extends 'base.html' %}

{% block title %}Plotly Chart Example{% endblock %}

{% block content %}
<button id="update-button">Update Chart</button>
<div id="chart-container">
    {{ df_html|safe }} <!-- Display the DataFrame as a table -->
    <hr>
    {{ fig_html|safe }} <!-- Display the Plotly chart -->
</div>

<script>
$(document).ready(function(){
    $("#update-button").click(function(){
        $.ajax({
            url: "/update_chart",
            type: "get",
            success: function(response) {
                $("#chart-container").html(response.fig_html);
            },
            error: function(xhr) {
                // Handle error
            }
        });
    });
});
</script>
{% endblock %}
